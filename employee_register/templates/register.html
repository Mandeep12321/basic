<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<style>
    .error-text {
    color:red;
    }
</style>

<body>
<form class="basicinfofrm" id="basicinfoform" action="" method="post" enctype="multipart/form-data" novalidate>
                  {% csrf_token %}
                  <div class="basicinfofrminner clearfix">
                    <div class="right basicinforight">
                      <div class="cmn_field clearfix"><br><br>
                          <div class="row form-group">
                              <div class="col-md-3" align="right">
                                  <label>First Name<span>*</span></label>
                              </div>
                              <div class="col-md-5">
                                   <input onkeyup="myFunction()" class="form-control" type="text" name="first_name" id = "first"
                                   {% if employee.first_name != None %}value="{{ employee.first_name|stringformat:'s' }}"{% endif %}
                                   >
                                   <span id="first_name" class="error-text" ></span>
                              </div>
                          </div>
                          <div class="row form-group">
                              <div class="col-md-3" align="right">
                                  <label>Last Name<span>*</span></label>
                              </div>
                              <div class="col-md-5">
                                   <input onkeyup="myFunction()" class="form-control" type="text" value = "{{employee.last_name}}" name="last_name"id="last">
                                   <span class="error-text" id="last_name"></span>
                              </div>
                          </div>
                          <div class="row form-group">
                              <div class="col-md-3" align="right">
                                  <label>Email<span>*</span></label>
                              </div>
                              <div class="col-md-5">
                                   <input onkeyup="myFunction()" autocomplete="off" class="form-control" type="text" value = "{{employee.email}}" name="email" id="email">
                                   <span class="error-text" id="bas-email"></span>
                              </div>
                          </div>
                          <div class="row form-group">
                              <div class="col-md-3" align="right">
                                  <label>Gender<span>*</span></label>
                              </div>
                              <div class="col-md-5">
                                  <input type="radio" id="male" name="gender" value="1" {% if employee.gender == '1' %} checked {% endif %}> Male<br>
                                  <input type="radio" id="female" name="gender" value="0"{% if employee.gender == '0' %} checked {% endif %}> Female<br>
                              </div>
                          </div>
                          <div class="row form-group">
                              <div class="col-md-3" align="right">
                                  <label>Hobbies<span>*</span></label>
                              </div>
                              <div class="col-md-5">

                                  <input type="checkbox" id="vehicle1" name="Hobbies" value="1" {% if '1' in employee.Hobbies %} checked {% endif %}> Cricket<br>
                                  <input type="checkbox" id="vehicle2" name="Hobbies" value="2"{% if '2' in employee.Hobbies %} checked {% endif %}> Kabbadi<br>
                                  <input type="checkbox" id="vehicle3" name="Hobbies" value="3"{% if '3' in employee.Hobbies %} checked {% endif %}> Football<br>
                                  <input type="checkbox" id="vehicle4" name="Hobbies" value="4"{% if '4' in employee.Hobbies %} checked {% endif %}> Hockey<br>
                              </div>
                          </div>
                          <li class="nav-item dropdown">
                              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                  Dropdown
                              </a>
                          {% if flag %}
                          <div class="row form-group">
                              <div class="col-md-3" align="right">
                                  <label>Password<span>*</span></label>
                              </div>
                              <div class="col-md-5">
                                   <input onkeyup="myFunction()" class="form-control" type="text" name="password" id="pass1">
                                   <span class="error-text" id="password"></span>
                              </div>
                          </div>
                           <div class="row form-group">
                              <div class="col-md-3" align="right">
                                  <label>Confirm-Password<span>*</span></label>
                              </div>
                              <div class="col-md-5">
                                   <input onkeyup="myFunction()" class="form-control" type="text" name="confirm-password" id="pass2">
                                   <span class="error-text" id="confirm-password"></span>
                              </div>
                          </div>
                          {% endif %}
                          <div class="row form-group">
                              <div class="col-md-3" align="right">
                              </div>
                              <div class="col-md-5">
                                  {% if employee %}
                                   {% if employee.img != '' %}
                                  <a href="{% url 'remove' employee.id %}"><span style="float:left;"  class="close">&times;</span></a>
                                   <img  src ="{{ employee.img.url}}" width = "40px" height="40px"/><br/>
                                   {% endif %}
                                  {% endif %}
                              </div>
                          </div>
                          <div class="row form-group">
                              <div class="col-md-3" align="right">
                                  <label>Image<span>*</span></label>
                              </div>
                              <div class="col-md-5">
                                   <input class="form-control" type="file" name="image"id="img">
                                   <span class="error-text" id="image"></span>
                              </div>
                          </div>
                          <div class="row form-group">
                              <div class="col-md-3" align="right">
                              </div>
                              <div class="col-md-2">
                                  <button type="submit" class="btn btn-info btn-block btn-lg">Submit</button>

                              </div><div class="col-md-1"></div>
                              <div class="col-md-2">
                                     <a href="{% url 'employee_list' %}" class="btn btn-secondary btn-block btn-lg">
                                         <i class="fas fa-stream"></i> Back to list
                                     </a>

                              </div>
                          </div>
                      </div>


                    </div>
                  </div><!-- end of basicinfofrminner -->

                </form>



</body>
</html>

<script type="text/javascript">

function myFunction(){
var first_name = document.getElementById('first').value;
var last_name = document.getElementById('last').value;
var email = document.getElementById('email').value;
var pass1 = document.getElementById('pass1').value;
var pass2 = document.getElementById('pass2').value;

   if(first_name != ""){
        document.getElementById('first_name').innerHTML = "";
        document.getElementById("first").style.border = "1px solid green";
    }else{
        if(first_name == ""){
        document.getElementById('first_name').innerHTML = "First name cannot be blank.";
        document.getElementById("first").style.border = "1px solid red";
        }
    }
   if(last_name != ""){
        document.getElementById('last_name').innerHTML = "";
        document.getElementById("last").style.border = "1px solid green";
    }else{
        if(last_name == ""){
            document.getElementById('last_name').innerHTML = "Last name cannot be blank.";
            document.getElementById("last").style.border = "1px solid red";
        }

    }
    if(email != ""){
        document.getElementById('bas-email').innerHTML = "";
        document.getElementById("email").style.border = "1px solid green";
    }else{
        if(email == ""){
            document.getElementById('bas-email').innerHTML = "Email cannot be blank.";
            document.getElementById("email").style.border = "1px solid red";
        }

    }
    if((email.indexOf('@') <= 0) && (email != '')){
         document.getElementById('bas-email').innerHTML = "Email is not valid";

    }



    if(pass1 != ""){
        document.getElementById('password').innerHTML = "";
        document.getElementById("pass1").style.border = "1px solid green";
    }else{
        if(pass1 == ""){
            document.getElementById('password').innerHTML = "Password cannot be blank.";
            document.getElementById("pass1").style.border = "1px solid red";
        }

    }
    if(pass2 != ""){
        document.getElementById('confirm-password').innerHTML = "";
        document.getElementById("pass2").style.border = "1px solid green";
    }else{
        if(pass2 == ""){
            document.getElementById('confirm-password').innerHTML = "Confirm-Password cannot be blank.";
            document.getElementById("pass2").style.border = "1px solid red";
        }

    }

    if((pass1 != pass2) && (pass2 != "") && (pass1 != "")){
         document.getElementById('confirm-password').innerHTML = "";
         document.getElementById('confirm-password').innerHTML = "password did not match";
    }

}
$('#basicinfoform').submit(function (e) {

    var first_name = document.getElementById('first').value;
    var last_name = document.getElementById('last').value;
    var email = document.getElementById('email').value;
    var pass1 = document.getElementById('pass1').value;
    var pass2 = document.getElementById('pass2').value;
    var image = document.getElementById('img').value;

    if(first_name == ""){
        document.getElementById('first_name').innerHTML = "First name cannot be blank.";
        document.getElementById("first").style.border = "1px solid red";
         e.preventDefault();
    }
         if(last_name == ""){
             document.getElementById('last_name').innerHTML = "Last name cannot be blank.";
             document.getElementById("last").style.border = "1px solid red";
              e.preventDefault();
        }
         if(email == ""){
            document.getElementById('bas-email').innerHTML = "Email cannot be blank.";
            document.getElementById("email").style.border = "1px solid red";
             e.preventDefault();
    }
         if(pass1 == ""){
            document.getElementById('password').innerHTML = "Password cannot be blank.";
            document.getElementById("pass1").style.border = "1px solid red";
             e.preventDefault();
    }
         if(pass2 == ""){
            document.getElementById('confirm-password').innerHTML = "Confirm-Password cannot be blank.";
            document.getElementById("pass2").style.border = "1px solid red";
             e.preventDefault();
    }
         if(image == ""){
            document.getElementById('image').innerHTML = "Image cannot be blank.";
            document.getElementById("img").style.border = "1px solid red";
             e.preventDefault();
    }
   });




</script>